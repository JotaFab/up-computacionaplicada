# Generated by iptables-save v1.4.21 on Wed Nov 15 19:10:20 2017
*filter
:INPUT ACCEPT [654:81735]
:FORWARD ACCEPT [780:51154]
:OUTPUT ACCEPT [515:139634]
COMMIT

#Punto a)
 
iptables -P INPUT DROP
iptables -P OUTPUT DROP
iptables -P FORDWARD DROP

#Punto b)

iptables -t filter -A INPUT -i lo -j ACCEPT
iptables -t filter -A INPUT -o lo -j ACCEPT

#Punto c)

iptables -A INPUT -p tcp --dport 22 -s 192.168.20.8 -j ACCEPT
iptables -A OUTPUT -p tcp --sport 22 -j ACCEPT

#Punto d)

iptables -t filter -A FORDWARD -d 192.168.20.3 -j ACCEPT
iptables -A FORWARD -p tcp -m multiport --dports 80,443 -j ACCEPT
iptables -t filter -A FORDWARD -s 192.168.20.3 -j ACCEPT
iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE



# Completed on Wed Nov 15 19:10:20 2017
